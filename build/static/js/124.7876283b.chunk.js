"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[124],{705:function(n,e,t){var r=t(1413),o=t(890),u=t(533),i=(t(2791),t(184));e.Z=function(n){return(0,i.jsxs)(o.Z,(0,r.Z)((0,r.Z)({variant:"body2",color:"text.secondary",align:"center"},n),{},{children:["Copyright \xa9 ",(0,i.jsx)(u.Z,{color:"inherit",href:"https://infinite.com/",children:"Infinite"})," ",(new Date).getFullYear(),"."]}))}},7613:function(n,e,t){t.r(e),t.d(e,{default:function(){return B}});var r=t(4165),o=t(5861),u=t(885),i=t(2791),a=t(8559),c=t.n(a),l=(t(3666),t(4554)),s=t(4663),f=t(266),p=t(1889),d=t(5527),v=t(705),h=t(8096),m=t(4925),x=t(8406),g=t(3786),y=t(6151),b=t(8234),Z=JSON.parse('[{"city":"California","lat":"36.232792","lng":"-120.614686"},{"city":"Arizona","lat":"36.277440","lng":"-111.423660"},{"city":"Texas","lat":"32.672757","lng":"-98.689107"},{"city":"Colorado","lat":"40.611554","lng":"-102.675576"}]'),j=t(2388),w=t(2062),O=t.n(w),S=t(150);function I(){return(0,S.mE)().map}var C=t(5987),E=t(4834),z=t(9359),k=["position"],A=(0,E.dW)((function(n,e){var t=n.position,r=(0,C.Z)(n,k),o=new a.Marker(t,r);return(0,z.O)(o,(0,S.sj)(e,{overlayContainer:o}))}),(function(n,e,t){e.position!==t.position&&n.setLatLng(e.position),null!=e.icon&&e.icon!==t.icon&&n.setIcon(e.icon),null!=e.zIndexOffset&&e.zIndexOffset!==t.zIndexOffset&&n.setZIndexOffset(e.zIndexOffset),null!=e.opacity&&e.opacity!==t.opacity&&n.setOpacity(e.opacity),null!=n.dragging&&e.draggable!==t.draggable&&(!0===e.draggable?n.dragging.enable():n.dragging.disable())})),L=(0,E.SO)((function(n,e){var t=new a.Popup(n,e.overlayContainer);return(0,z.O)(t,e)}),(function(n,e,t,r){var o=t.position;(0,i.useEffect)((function(){var t=n.instance;function u(n){n.popup===t&&(t.update(),r(!0))}function i(n){n.popup===t&&r(!1)}return e.map.on({popupopen:u,popupclose:i}),null==e.overlayContainer?(null!=o&&t.setLatLng(o),t.openOn(e.map)):e.overlayContainer.bindPopup(t),function(){var n;e.map.off({popupopen:u,popupclose:i}),null===(n=e.overlayContainer)||void 0===n||n.unbindPopup(),e.map.removeLayer(t)}}),[n,e,r,o])})),R=t(184),D=new(c().Icon)({iconUrl:t(9229),iconSize:[40,40],iconAnchor:[17,46],popupAnchor:[0,-46]});var N=function(n){var e=n.location,t=(0,i.useState)([]),r=(0,u.Z)(t,2),o=r[0],a=r[1],c=I();return(0,i.useEffect)((function(){c.locate().on("locationfound",(function(n){c.flyTo(e,c.getZoom()),a(n.bounds.toBBoxString().split(","))}))}),[e]),null===e?null:(0,R.jsx)(A,{position:e,icon:D,children:(0,R.jsxs)(L,{children:["You are here. ",(0,R.jsx)("br",{}),"Map bbox: ",(0,R.jsx)("br",{}),(0,R.jsx)("b",{children:"Southwest lng"}),": ",o[0]," ",(0,R.jsx)("br",{}),(0,R.jsx)("b",{children:"Southwest lat"}),": ",o[1]," ",(0,R.jsx)("br",{}),(0,R.jsx)("b",{children:"Northeast lng"}),": ",o[2]," ",(0,R.jsx)("br",{}),(0,R.jsx)("b",{children:"Northeast lat"}),": ",o[3]]})})},P=t(9961),H=t(7626),_=new(c().Icon)({iconUrl:t(9229),iconSize:[40,40],iconAnchor:[17,46],popupAnchor:[0,-46]}),U=function(n){var e=n.center,t=n.zoom,r=n.location,o=n.position,u=(0,i.useRef)();return console.log(t),(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(P.h,{style:{width:"100%",height:"70vh"},center:e,zoom:t,ref:u,scrollWheelZoom:!1,fadeAnimation:!0,markerZoomAnimation:!0,children:[(0,R.jsx)(H.I,{url:b.Z.maptiler.url,attribution:b.Z.maptiler.attribution}),null===o?Z.map((function(n,e){return(0,R.jsx)(A,{position:[n.lat,n.lng],icon:_,children:(0,R.jsx)(L,{children:(0,R.jsx)("b",{children:n.city})})},e)})):(0,R.jsx)(N,{location:r})]})})};new(c().Icon)({iconUrl:t(9229),iconSize:[40,40],iconAnchor:[17,46],popupAnchor:[0,-46]});var B=function(){var n=(0,i.useState)({lat:36.23,lng:-98.38}),e=(0,u.Z)(n,2),t=e[0],a=e[1],c=((0,i.useRef)(),localStorage.getItem("token")),b=localStorage.getItem("user"),Z=(0,i.useState)([]),w=(0,u.Z)(Z,2),S=w[0],I=w[1],C=(0,i.useState)({}),E=(0,u.Z)(C,2),z=E[0],k=E[1],A=(0,i.useState)(""),L=(0,u.Z)(A,2),D=L[0],N=L[1],P=(0,i.useState)("5"),H=(0,u.Z)(P,2),_=H[0],B=H[1],T=(0,i.useState)(!0),q=(0,u.Z)(T,2),M=q[0],W=q[1],F=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(){var e;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,j.Z)({method:"post",url:"http://174.138.121.17:8001/infinite/get_devices",headers:{"Content-Type":"application/octet-stream","x-token":c,"x-user":b}});case 2:e=n.sent,I(e.data);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();(0,i.useEffect)((function(){F()}),[]);var V=(0,i.useState)(null),Y=(0,u.Z)(V,2),G=Y[0],J=Y[1],K=function(n){n.preventDefault();var e=function(){var n=(0,o.Z)((0,r.Z)().mark((function n(){var e,t;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=!0===M?"DISABLED":"ENABLED",n.next=3,j.Z.post("http://174.138.121.17:8001/infinite/set_device",{device_id:"Device01",type:"TCU",status:e},{headers:{"Content-Type":"application/json","x-token":c,"x-user":b}});case 3:t=n.sent,W(!M),O()({text:t.data,icon:"success",type:"success"});case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();e()},Q=(0,i.useCallback)((function(n){n.preventDefault(),N(n.target.value),B("14");var e=function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,j.Z)({method:"post",url:"http://174.138.121.17:8001/infinite/get_gps",headers:{"Content-Type":"application/octet-stream","x-token":c,"x-user":b},params:{device_id:n.target.value,count:1}});case 2:t=e.sent,a({lat:t.data[0].lat,lng:t.data[0].long}),J([t.data[0].lat,t.data[0].long]),k({lat:t.data[0].lat,lng:t.data[0].long});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[_]);return(0,R.jsxs)(l.Z,{component:"main",sx:{backgroundColor:function(n){return"light"===n.palette.mode?n.palette.grey[100]:n.palette.grey[900]},flexGrow:1,height:"100vh",overflow:"auto"},children:[(0,R.jsx)(s.Z,{}),(0,R.jsxs)(f.Z,{maxWidth:"lg",sx:{mt:4,mb:4},children:[(0,R.jsx)(p.ZP,{container:!0,spacing:3,children:(0,R.jsx)(p.ZP,{item:!0,xs:12,children:(0,R.jsxs)(d.Z,{sx:{p:2,display:"flex",flexDirection:"column",height:"350"},children:[(0,R.jsxs)(l.Z,{component:"form",noValidate:!0,sx:{mt:1},children:[(0,R.jsxs)(h.Z,{sx:{m:1,minWidth:200},size:"small",children:[(0,R.jsx)(m.Z,{id:"demo-select-small",children:"Select Device"}),(0,R.jsx)(x.Z,{labelId:"demo-select-small",id:"demo-select-small",value:D,label:"Select Device",size:"small",onChange:Q,children:S.map((function(n){var e=n.device_id;n.status;return(0,R.jsx)(g.Z,{value:e,children:e},e)}))})]}),null===G?null:(0,R.jsxs)(R.Fragment,{children:[!0===M?(0,R.jsx)("span",{style:{margin:"10px"},children:" Status: Active"}):(0,R.jsx)("span",{style:{margin:"10px"},children:"Status: Deactive"}),!1===M?(0,R.jsx)(y.Z,{variant:"contained",color:"success",sx:{mt:1},onClick:K,children:"ENABLED"}):(0,R.jsx)(y.Z,{variant:"contained",color:"error",sx:{mt:1},onClick:K,children:"DISABLED"})]})]}),(0,R.jsx)(U,{center:t,zoom:_,location:z,position:G})]})})}),(0,R.jsx)(v.Z,{sx:{pt:4}})]})]})}},8234:function(n,e){e.Z={maptiler:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}}},9229:function(n,e,t){n.exports=t.p+"static/media/marker.60be1644ea74709b0558.png"},5987:function(n,e,t){t.d(e,{Z:function(){return o}});var r=t(3366);function o(n,e){if(null==n)return{};var t,o,u=(0,r.Z)(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(o=0;o<i.length;o++)t=i[o],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(u[t]=n[t])}return u}},150:function(n,e,t){t.d(e,{Hb:function(){return u},UO:function(){return c},mE:function(){return l},sj:function(){return i}});var r=t(1413),o=t(2791);function u(n){return Object.freeze({__version:1,map:n})}function i(n,e){return Object.freeze((0,r.Z)((0,r.Z)({},n),e))}var a=(0,o.createContext)(null),c=a.Provider;function l(){var n=(0,o.useContext)(a);if(null==n)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}},9359:function(n,e,t){t.d(e,{I:function(){return u},O:function(){return o}});var r=t(2791);function o(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function u(n,e){return null==e?function(e,t){var o=(0,r.useRef)();return o.current||(o.current=n(e,t)),o}:function(t,o){var u=(0,r.useRef)();u.current||(u.current=n(t,o));var i=(0,r.useRef)(t),a=u.current.instance;return(0,r.useEffect)((function(){i.current!==t&&(e(a,t,i.current),i.current=t)}),[a,t,o]),u}}},4834:function(n,e,t){t.d(e,{dW:function(){return h},SO:function(){return m},Au:function(){return x},Lf:function(){return g}});var r=t(885),o=t(2791),u=t(4164),i=t(150);function a(n){function e(e,t){var r=n(e).current,u=r.instance,a=r.context;return(0,o.useImperativeHandle)(t,(function(){return u})),null==e.children?null:o.createElement(i.UO,{value:a},e.children)}return(0,o.forwardRef)(e)}var c=t(9359);function l(n,e){var t=(0,o.useRef)(e);(0,o.useEffect)((function(){e!==t.current&&null!=n.attributionControl&&(null!=t.current&&n.attributionControl.removeAttribution(t.current),null!=e&&n.attributionControl.addAttribution(e)),t.current=e}),[n,e])}function s(n,e){var t=(0,o.useRef)();(0,o.useEffect)((function(){return null!=e&&n.instance.on(e),t.current=e,function(){null!=t.current&&n.instance.off(t.current),t.current=null}}),[n,e])}var f=t(9171);function p(n,e){(0,o.useEffect)((function(){var t;return(null!==(t=e.layerContainer)&&void 0!==t?t:e.map).addLayer(n.instance),function(){var t;null===(t=e.layerContainer)||void 0===t||t.removeLayer(n.instance),e.map.removeLayer(n.instance)}}),[e,n])}function d(n){return function(e){var t=(0,i.mE)(),r=n((0,f.q)(e,t),t);return l(t.map,e.attribution),s(r.current,e.eventHandlers),p(r.current,t),r}}function v(n){return function(e){var t=(0,i.mE)(),r=n((0,f.q)(e,t),t);return s(r.current,e.eventHandlers),p(r.current,t),function(n,e){var t=(0,o.useRef)();(0,o.useEffect)((function(){if(e.pathOptions!==t.current){var r,o=null!==(r=e.pathOptions)&&void 0!==r?r:{};n.instance.setStyle(o),t.current=o}}),[n,e])}(r.current,e),r}}function h(n,e){return a(d((0,c.I)(n,e)))}function m(n,e){var t=function(n,e){return function(t,r){var o=(0,i.mE)(),u=n((0,f.q)(t,o),o);return l(o.map,t.attribution),s(u.current,t.eventHandlers),e(u.current,o,t,r),u}}((0,c.I)(n),e);return function(n){function e(e,t){var i=(0,o.useState)(!1),a=(0,r.Z)(i,2),c=a[0],l=a[1],s=n(e,l).current.instance;(0,o.useImperativeHandle)(t,(function(){return s})),(0,o.useEffect)((function(){c&&s.update()}),[s,c,e.children]);var f=s._contentNode;return f?(0,u.createPortal)(e.children,f):null}return(0,o.forwardRef)(e)}(t)}function x(n,e){return a(v((0,c.I)(n,e)))}function g(n,e){return function(n){function e(e,t){var r=n(e).current.instance;return(0,o.useImperativeHandle)(t,(function(){return r})),null}return(0,o.forwardRef)(e)}(d((0,c.I)(n,e)))}},9171:function(n,e,t){t.d(e,{q:function(){return o}});var r=t(1413);function o(n,e){var t,o=null!==(t=n.pane)&&void 0!==t?t:e.pane;return o?(0,r.Z)((0,r.Z)({},n),{},{pane:o}):n}},9961:function(n,e,t){t.d(e,{h:function(){return f}});var r=t(885),o=t(5987),u=t(150),i=t(8559),a=t(2791),c=["bounds","boundsOptions","center","children","className","id","placeholder","style","whenReady","zoom"];function l(){return l=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},l.apply(this,arguments)}function s(n,e){var t=n.bounds,s=n.boundsOptions,f=n.center,p=n.children,d=n.className,v=n.id,h=n.placeholder,m=n.style,x=n.whenReady,g=n.zoom,y=(0,o.Z)(n,c),b=(0,a.useState)({className:d,id:v,style:m}),Z=(0,r.Z)(b,1)[0],j=(0,a.useState)(null),w=(0,r.Z)(j,2),O=w[0],S=w[1];(0,a.useImperativeHandle)(e,(function(){var n;return null!==(n=null===O||void 0===O?void 0:O.map)&&void 0!==n?n:null}),[O]);var I=(0,a.useCallback)((function(n){if(null!==n&&null===O){var e=new i.Map(n,y);null!=f&&null!=g?e.setView(f,g):null!=t&&e.fitBounds(t,s),null!=x&&e.whenReady(x),S((0,u.Hb)(e))}}),[]);(0,a.useEffect)((function(){return function(){null===O||void 0===O||O.map.remove()}}),[O]);var C=O?a.createElement(u.UO,{value:O},p):null!==h&&void 0!==h?h:null;return a.createElement("div",l({},Z,{ref:I}),C)}var f=(0,a.forwardRef)(s)},7626:function(n,e,t){t.d(e,{I:function(){return l}});var r=t(5987),o=t(4834),u=t(9171),i=t(9359);var a=t(8559),c=["url"],l=(0,o.Lf)((function(n,e){var t=n.url,o=(0,r.Z)(n,c),l=new a.TileLayer(t,(0,u.q)(o,e));return(0,i.O)(l,e)}),(function(n,e,t){!function(n,e,t){var r=e.opacity,o=e.zIndex;null!=r&&r!==t.opacity&&n.setOpacity(r),null!=o&&o!==t.zIndex&&n.setZIndex(o)}(n,e,t);var r=e.url;null!=r&&r!==t.url&&n.setUrl(r)}))}}]);
//# sourceMappingURL=124.7876283b.chunk.js.map