"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[291],{7769:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var i=n(885),a=n(2791),o=n(9961),r=n(7626),l=n(5987),s=n(533),c=n(9359),p=n(150),u=n(8559),d=n.n(u),f=["position"],h=(0,s.dW)((function(e,t){var n=e.position,i=(0,l.Z)(e,f),a=new u.Marker(n,i);return(0,c.O)(a,(0,p.sj)(t,{overlayContainer:a}))}),(function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())})),m=(0,s.SO)((function(e,t){var n=new u.Popup(e,t.overlayContainer);return(0,c.O)(n,t)}),(function(e,t,n,i){var o=n.position;(0,a.useEffect)((function(){var n=e.instance;function a(e){e.popup===n&&(n.update(),i(!0))}function r(e){e.popup===n&&i(!1)}return t.map.on({popupopen:a,popupclose:r}),null==t.overlayContainer?(null!=o&&n.setLatLng(o),n.openOn(t.map)):t.overlayContainer.bindPopup(n),function(){var e;t.map.off({popupopen:a,popupclose:r}),null===(e=t.overlayContainer)||void 0===e||e.unbindPopup(),t.map.removeLayer(n)}}),[e,t,i,o])})),g=(n(3666),n(4554)),x=n(4663),v=n(266),y=n(1889),Z=n(5527),b=(n(1561),n(4558)),j=n(8096),S=n(4925),w=n(8406),C=n(3786),I=n(6151),O=n(8234),k=JSON.parse('[{"city":"California","lat":"36.232792","lng":"-120.614686"},{"city":"Arizona","lat":"36.277440","lng":"-111.423660"},{"city":"Texas","lat":"32.672757","lng":"-98.689107"},{"city":"Colorado","lat":"40.611554","lng":"-102.675576"}]'),z=n(2388),_=(n(2062),n(184)),D=new(d().Icon)({iconUrl:n(9229),iconSize:[40,40],iconAnchor:[17,46],popupAnchor:[0,-46]});var L=function(){var e=(0,a.useState)({lat:36.23,lng:-98.38}),t=(0,i.Z)(e,2),n=t[0],l=t[1],s=(0,a.useRef)(),c=localStorage.getItem("token"),p=localStorage.getItem("user"),u=(0,a.useState)([]),d=(0,i.Z)(u,2),f=d[0],L=d[1],P=(0,a.useState)({}),T=(0,i.Z)(P,2),A=T[0],M=T[1],W=(0,a.useState)(""),E=(0,i.Z)(W,2),J=E[0],G=E[1];(0,a.useEffect)((function(){(0,z.Z)({method:"post",url:"http://174.138.121.17:8001/infinite/get_devices",headers:{"Content-Type":"application/octet-stream","x-token":c,"x-user":p},params:{device_id:"Device03"}}).then((function(e){L(e.data)}))}),[]);var N=(0,a.useState)([17.45,78.38]),R=(0,i.Z)(N,2),U=R[0],V=R[1];return(0,_.jsxs)(g.Z,{component:"main",sx:{backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900]},flexGrow:1,height:"100vh",overflow:"auto"},children:[(0,_.jsx)(x.Z,{}),(0,_.jsxs)(v.Z,{maxWidth:"lg",sx:{mt:4,mb:4},children:[(0,_.jsx)(y.ZP,{container:!0,spacing:3,children:(0,_.jsx)(y.ZP,{item:!0,xs:12,children:(0,_.jsxs)(Z.Z,{sx:{p:2,display:"flex",flexDirection:"column",height:"350"},children:[(0,_.jsxs)(g.Z,{component:"form",noValidate:!0,sx:{mt:1},children:[(0,_.jsxs)(j.Z,{sx:{m:1,minWidth:200},size:"small",children:[(0,_.jsx)(S.Z,{id:"demo-select-small",children:"Select Device"}),(0,_.jsx)(w.Z,{labelId:"demo-select-small",id:"demo-select-small",value:J,label:"Select Device",onChange:function(e){G(e.target.value),(0,z.Z)({method:"post",url:"http://174.138.121.17:8001/infinite/get_gps",headers:{"Content-Type":"application/octet-stream","x-token":c,"x-user":p},params:{device_id:e.target.value}}).then((function(e){l({lat:e.data.lat,lng:e.data.long}),V([e.data.lat,e.data.long]),M(e.data),console.log(e.data)}))},children:f.map((function(e){return(0,_.jsx)(C.Z,{value:e.device_id,children:e.device_id})}))})]}),(0,_.jsx)(I.Z,{variant:"outlined",sx:{mt:1},children:"Active"})]}),(0,_.jsxs)(o.h,{style:{width:"100%",height:"70vh"},center:n,zoom:5,ref:s,children:[(0,_.jsx)(r.I,{url:O.Z.maptiler.url,attribution:O.Z.maptiler.attribution}),(0,_.jsx)(h,{position:U,icon:D,children:(0,_.jsxs)(m,{children:[(0,_.jsxs)("b",{children:["Device ID :  ",A.device_id," "]})," ",(0,_.jsx)("br",{}),(0,_.jsxs)("b",{children:[" TimeStamp : ",A.timestamp]})]})}),k.map((function(e,t){return(0,_.jsx)(h,{position:[e.lat,e.lng],icon:D,children:(0,_.jsx)(m,{children:(0,_.jsx)("b",{children:e.city})})},t)}))]})]})})}),(0,_.jsx)(b.Z,{sx:{pt:4}})]})]})}},8234:function(e,t){t.Z={maptiler:{url:"https://api.maptiler.com/maps/basic/256/{z}/{x}/{y}.png?key=fXmTwJM642uPLZiwzhA1",attribution:'&copy; <a href="https://www.maptiler.com/">MapTiler</a> &copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}}},9229:function(e,t,n){e.exports=n.p+"static/media/marker.60be1644ea74709b0558.png"}}]);
//# sourceMappingURL=291.41041f24.chunk.js.map