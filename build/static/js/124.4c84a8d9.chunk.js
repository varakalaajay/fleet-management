"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[124,624],{705:function(e,n,t){var o=t(1413),r=t(890),i=t(533),a=(t(2791),t(184));n.Z=function(e){return(0,a.jsxs)(r.Z,(0,o.Z)((0,o.Z)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",(0,a.jsx)(i.Z,{color:"inherit",href:"https://infinite.com/",children:"Infinite"})," ",(new Date).getFullYear(),"."]}))}},7613:function(e,n,t){t.r(n),t.d(n,{default:function(){return P}});var o=t(4165),r=t(5861),i=t(885),a=t(2791),c=t(8559),s=t.n(c),l=(t(3666),t(4554)),u=t(4663),p=t(266),d=t(1889),f=t(5527),h=t(705),m=t(8096),x=t(4925),v=t(8406),g=t(3786),Z=t(6151),y=t(8234),b=JSON.parse('[{"city":"California","lat":"36.232792","lng":"-120.614686"},{"city":"Arizona","lat":"36.277440","lng":"-111.423660"},{"city":"Texas","lat":"32.672757","lng":"-98.689107"},{"city":"Colorado","lat":"40.611554","lng":"-102.675576"}]'),j=t(2388),S=t(2062),w=t.n(S),C=t(150);function k(){return(0,C.mE)().map}var A=t(5987),D=t(5362),z=t(9359),I=["position"],L=(0,D.dW)((function(e,n){var t=e.position,o=(0,A.Z)(e,I),r=new c.Marker(t,o);return(0,z.O)(r,(0,C.sj)(n,{overlayContainer:r}))}),(function(e,n,t){n.position!==t.position&&e.setLatLng(n.position),null!=n.icon&&n.icon!==t.icon&&e.setIcon(n.icon),null!=n.zIndexOffset&&n.zIndexOffset!==t.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),null!=n.opacity&&n.opacity!==t.opacity&&e.setOpacity(n.opacity),null!=e.dragging&&n.draggable!==t.draggable&&(!0===n.draggable?e.dragging.enable():e.dragging.disable())})),O=(0,D.SO)((function(e,n){var t=new c.Popup(e,n.overlayContainer);return(0,z.O)(t,n)}),(function(e,n,t,o){var r=t.position;(0,a.useEffect)((function(){var t=e.instance;function i(e){e.popup===t&&(t.update(),o(!0))}function a(e){e.popup===t&&o(!1)}return n.map.on({popupopen:i,popupclose:a}),null==n.overlayContainer?(null!=r&&t.setLatLng(r),t.openOn(n.map)):n.overlayContainer.bindPopup(t),function(){var e;n.map.off({popupopen:i,popupclose:a}),null===(e=n.overlayContainer)||void 0===e||e.unbindPopup(),n.map.removeLayer(t)}}),[e,n,o,r])})),B=t(184),E=new(s().Icon)({iconUrl:t(9229),iconSize:[40,40],iconAnchor:[17,46],popupAnchor:[0,-46]});var M=function(e){var n=e.location,t=(0,a.useState)([]),o=(0,i.Z)(t,2),r=o[0],c=o[1],s=k();return(0,a.useEffect)((function(){s.locate().on("locationfound",(function(e){s.flyTo(n,s.getZoom()),c(e.bounds.toBBoxString().split(","))}))}),[n]),null===n?null:(0,B.jsx)(L,{position:n,icon:E,children:(0,B.jsxs)(O,{children:["You are here. ",(0,B.jsx)("br",{}),"Map bbox: ",(0,B.jsx)("br",{}),(0,B.jsx)("b",{children:"Southwest lng"}),": ",r[0]," ",(0,B.jsx)("br",{}),(0,B.jsx)("b",{children:"Southwest lat"}),": ",r[1]," ",(0,B.jsx)("br",{}),(0,B.jsx)("b",{children:"Northeast lng"}),": ",r[2]," ",(0,B.jsx)("br",{}),(0,B.jsx)("b",{children:"Northeast lat"}),": ",r[3]]})})},T=t(9961),W=t(3407),F=new(s().Icon)({iconUrl:t(9229),iconSize:[40,40],iconAnchor:[17,46],popupAnchor:[0,-46]}),N=function(e){var n=e.center,t=e.zoom,o=e.location,r=e.position,i=(0,a.useRef)();return(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)(T.h,{style:{width:"100%",height:"70vh"},center:n,zoom:t,ref:i,scrollWheelZoom:!1,fadeAnimation:!0,markerZoomAnimation:!0,children:[(0,B.jsx)(W.I,{url:y.Z.maptiler.url,attribution:y.Z.maptiler.attribution}),null===r?b.map((function(e,n){return(0,B.jsx)(L,{position:[e.lat,e.lng],icon:F,children:(0,B.jsx)(O,{children:(0,B.jsx)("b",{children:e.city})})},n)})):(0,B.jsx)(M,{location:o})]})})};new(s().Icon)({iconUrl:t(9229),iconSize:[40,40],iconAnchor:[17,46],popupAnchor:[0,-46]});var P=function(){var e=(0,a.useState)({lat:36.23,lng:-98.38}),n=(0,i.Z)(e,2),t=n[0],c=n[1],s=((0,a.useRef)(),localStorage.getItem("token")),y=localStorage.getItem("user"),b=(0,a.useState)([]),S=(0,i.Z)(b,2),C=S[0],k=S[1],A=(0,a.useState)({}),D=(0,i.Z)(A,2),z=D[0],I=D[1],L=(0,a.useState)(""),O=(0,i.Z)(L,2),E=O[0],M=O[1],T=(0,a.useState)("5"),W=(0,i.Z)(T,2),F=W[0],P=W[1],R=(0,a.useState)(!0),V=(0,i.Z)(R,2),_=V[0],U=V[1],G=function(){var e=(0,r.Z)((0,o.Z)().mark((function e(){var n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,j.Z)({method:"post",url:"http://54.226.199.64:8001/infinite/get_devices",headers:{"Content-Type":"application/octet-stream","x-token":s,"x-user":y}});case 2:n=e.sent,k(n.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){G()}),[]);var H=(0,a.useState)(null),Y=(0,i.Z)(H,2),q=Y[0],J=Y[1],K=function(e){e.preventDefault();var n=function(){var e=(0,r.Z)((0,o.Z)().mark((function e(){var n,t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0===_?"DISABLED":"ENABLED",e.next=3,j.Z.post("http://54.226.199.64:8001/infinite/set_device",{device_id:"Device01",type:"TCU",status:n},{headers:{"Content-Type":"application/json","x-token":s,"x-user":y}});case 3:t=e.sent,U(!_),w()({text:t.data,icon:"success",type:"success"});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n()},Q=(0,a.useCallback)((function(e){e.preventDefault(),M(e.target.value),P("14");var n=function(){var n=(0,r.Z)((0,o.Z)().mark((function n(){var t;return(0,o.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,j.Z)({method:"post",url:"http://54.226.199.64:8001/infinite/get_gps",headers:{"Content-Type":"application/octet-stream","x-token":s,"x-user":y},params:{device_id:e.target.value,count:1}});case 2:t=n.sent,c({lat:t.data[0].lat,lng:t.data[0].long}),J([t.data[0].lat,t.data[0].long]),I({lat:t.data[0].lat,lng:t.data[0].long});case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[F]);return(0,B.jsxs)(l.Z,{component:"main",sx:{backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[900]},flexGrow:1,height:"100vh",overflow:"auto"},children:[(0,B.jsx)(u.Z,{}),(0,B.jsxs)(p.Z,{maxWidth:"lg",sx:{mt:4,mb:4},children:[(0,B.jsx)(d.ZP,{container:!0,spacing:3,children:(0,B.jsx)(d.ZP,{item:!0,xs:12,children:(0,B.jsxs)(f.Z,{sx:{p:2,display:"flex",flexDirection:"column",height:"350"},children:[(0,B.jsxs)(l.Z,{component:"form",noValidate:!0,sx:{mt:1},children:[(0,B.jsxs)(m.Z,{sx:{m:1,minWidth:200},size:"small",children:[(0,B.jsx)(x.Z,{id:"demo-select-small",children:"Select Device"}),(0,B.jsx)(v.Z,{labelId:"demo-select-small",id:"demo-select-small",value:E,label:"Select Device",size:"small",onChange:Q,children:C.map((function(e){var n=e.device_id;e.status;return(0,B.jsx)(g.Z,{value:n,children:n},n)}))})]}),null===q?null:(0,B.jsxs)(B.Fragment,{children:[!0===_?(0,B.jsx)("span",{style:{margin:"10px"},children:" Status: Active"}):(0,B.jsx)("span",{style:{margin:"10px"},children:"Status: Deactive"}),!1===_?(0,B.jsx)(Z.Z,{variant:"contained",color:"success",sx:{mt:1},onClick:K,children:"ENABLE"}):(0,B.jsx)(Z.Z,{variant:"contained",color:"error",sx:{mt:1},onClick:K,children:"DISABLE"})]})]}),(0,B.jsx)(N,{center:t,zoom:F,location:z,position:q})]})})}),(0,B.jsx)(h.Z,{sx:{pt:4}})]})]})}},8234:function(e,n){n.Z={maptiler:{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}}},266:function(e,n,t){var o=t(7184),r=t(4036),i=t(6934),a=t(1402),c=(0,o.Z)({createStyledComponent:(0,i.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n["maxWidth".concat((0,r.Z)(String(t.maxWidth)))],t.fixed&&n.fixed,t.disableGutters&&n.disableGutters]}}),useThemeProps:function(e){return(0,a.Z)({props:e,name:"MuiContainer"})}});n.Z=c},533:function(e,n,t){t.d(n,{Z:function(){return D}});var o=t(2982),r=t(885),i=t(4942),a=t(3366),c=t(7462),s=t(2791),l=t(8182),u=t(4419),p=t(4036),d=t(6934),f=t(1402),h=t(3031),m=t(2071),x=t(890),v=t(5878),g=t(1217);function Z(e){return(0,g.Z)("MuiLink",e)}var y=(0,v.Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),b=t(8529),j=t(2065),S={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},w=function(e){var n=e.theme,t=e.ownerState,o=function(e){return S[e]||e}(t.color),r=(0,b.DW)(n,"palette.".concat(o),!1)||t.color,i=(0,b.DW)(n,"palette.".concat(o,"Channel"));return"vars"in n&&i?"rgba(".concat(i," / 0.4)"):(0,j.Fq)(r,.4)},C=t(184),k=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],A=(0,d.ZP)(x.Z,{name:"MuiLink",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n["underline".concat((0,p.Z)(t.underline))],"button"===t.component&&n.button]}})((function(e){var n=e.theme,t=e.ownerState;return(0,c.Z)({},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===t.underline&&(0,c.Z)({textDecoration:"underline"},"inherit"!==t.color&&{textDecorationColor:w({theme:n,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===t.component&&(0,i.Z)({position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(y.focusVisible),{outline:"auto"}))})),D=s.forwardRef((function(e,n){var t=(0,f.Z)({props:e,name:"MuiLink"}),i=t.className,d=t.color,x=void 0===d?"primary":d,v=t.component,g=void 0===v?"a":v,y=t.onBlur,b=t.onFocus,j=t.TypographyClasses,w=t.underline,D=void 0===w?"always":w,z=t.variant,I=void 0===z?"inherit":z,L=t.sx,O=(0,a.Z)(t,k),B=(0,h.Z)(),E=B.isFocusVisibleRef,M=B.onBlur,T=B.onFocus,W=B.ref,F=s.useState(!1),N=(0,r.Z)(F,2),P=N[0],R=N[1],V=(0,m.Z)(n,W),_=(0,c.Z)({},t,{color:x,component:g,focusVisible:P,underline:D,variant:I}),U=function(e){var n=e.classes,t=e.component,o=e.focusVisible,r=e.underline,i={root:["root","underline".concat((0,p.Z)(r)),"button"===t&&"button",o&&"focusVisible"]};return(0,u.Z)(i,Z,n)}(_);return(0,C.jsx)(A,(0,c.Z)({color:x,className:(0,l.Z)(U.root,i),classes:j,component:g,onBlur:function(e){M(e),!1===E.current&&R(!1),y&&y(e)},onFocus:function(e){T(e),!0===E.current&&R(!0),b&&b(e)},ref:V,ownerState:_,variant:I,sx:[].concat((0,o.Z)(Object.keys(S).includes(x)?[]:[{color:x}]),(0,o.Z)(Array.isArray(L)?L:[L]))},O))}))},9229:function(e,n,t){e.exports=t.p+"static/media/marker.60be1644ea74709b0558.png"}}]);
//# sourceMappingURL=124.4c84a8d9.chunk.js.map